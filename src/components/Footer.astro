---
import { getEntry } from 'astro:content';

const meta = await getEntry('site', 'meta');
if (!meta) {
  throw new Error('Site meta configuration not found');
}
const currentYear = new Date().getFullYear();
const startYear = 2023;
---

<footer class="border-border mt-auto border-t pt-12 pb-10">
  <div
    class="font-code text-muted-foreground grid gap-8 text-xs sm:grid-cols-3"
  >
    {/* Column 1: Site identity */}
    <div class="space-y-2">
      <p class="text-foreground font-medium">funailog.com</p>
      <p class="leading-relaxed">
        ガジェット・仕事道具・乗り物、<br />
        そして技術について綴る個人メディア。
      </p>
    </div>

    {/* Column 2: Navigation */}
    <div class="space-y-2">
      <p class="text-foreground font-medium">nav</p>
      <ul class="space-y-1">
        <li>
          <a href="/" class="hover:text-foreground transition-colors">home</a>
        </li>
        <li>
          <a href="/blog" class="hover:text-foreground transition-colors"
            >blog</a
          >
        </li>
        <li>
          <a href="/portfolio" class="hover:text-foreground transition-colors"
            >portfolio</a
          >
        </li>
        <li>
          <a href="/privacy" class="hover:text-foreground transition-colors"
            >privacy</a
          >
        </li>
        <li>
          <a href="/rss.xml" class="hover:text-foreground transition-colors"
            >rss</a
          >
        </li>
      </ul>
    </div>

    {/* Column 3: Links */}
    <div class="space-y-2">
      <p class="text-foreground font-medium">elsewhere</p>
      <ul class="space-y-1">
        <li>
          <a
            href={meta.data.links.github}
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-foreground transition-colors"
          >
            github
          </a>
        </li>
        <li>
          <a
            href={meta.data.links.twitter}
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-foreground transition-colors"
          >
            x / twitter
          </a>
        </li>
        <li>
          <a
            href={meta.data.links.instagram}
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-foreground transition-colors"
          >
            instagram
          </a>
        </li>
        <li>
          <a
            href={meta.data.links.linkedin}
            target="_blank"
            rel="noopener noreferrer"
            class="hover:text-foreground transition-colors"
          >
            linkedin
          </a>
        </li>
      </ul>
    </div>
  </div>

  <p class="font-code text-2xs text-muted-foreground/50 mt-10">
    &copy; {startYear}&ndash;{currentYear}
    {meta.data.author.name}
  </p>
</footer>
